<template>
    <div class="top-bar">
        <RouterLink :to="`/funding/detail/${id}`">
            < ìŠ¤í† ë¦¬ë¡œ ëŒì•„ê°€ê¸° </RouterLink>
                <h6>Looper ê³µí•­ì—ì„œ ì—¬ê¶Œì„ ì°¾ëŠë¼ ê°€ë°©ì„ ë’¤ì§‘ëŠ” ë‹¹ì‹ ì„ ìœ„í•´</h6>
    </div>
    <div class="complete-payment-container">
        <!-- ì°¸ì—¬ ì™„ë£Œ ë©”ì‹œì§€ -->
        <h2 class="text-start">ì°¸ì—¬ ì™„ë£Œ ğŸ‰</h2>
        <div class="completion-message text-center my-5">
            <h5 class="delivery-info text-start">- ë°°ì†¡ ì˜ˆì •ì¼ 2024.11 ì¤‘ìˆœ (11~20ì¼)</h5>

            <!-- í”„ë¡œì íŠ¸ ì†Œê°œ ì„¹ì…˜ -->
            <div class="project-info">
                <p class="fw-bold">ë‚˜ë§Œ ì•Œê³  ìˆê¸° ì•„ê¹Œìš´ í”„ë¡œì íŠ¸ë¼ë©´?</p>
                <p>ì¹œêµ¬ì—ê²Œ ì†Œê°œí•˜ê³  | í¬ì¸íŠ¸ë¥¼ ë°›ì•„ë³´ì„¸ìš”</p>
            </div>
            <RouterLink to="/participation">
                <button class="next-button">ë‹¤ìŒ</button>
            </RouterLink>
            
        </div>

        <!-- ì£¼ì‹íšŒì‚¬ ë£¨í”¼ ì •ë³´ -->
        <div class="company-info d-flex justify-content-between">
            <div class="text-start d-flex">
                <img src="#">
                <div>
                    ì£¼ì‹íšŒì‚¬ ë£¨í”¼<br>ë©”ì´ì»¤ ì†Œì‹ì„ ë°›ì•„ë³´ê³  ì‹¶ë‹¤ë©´?
                </div>
                
            </div>
            <button class="follow-button">íŒ”ë¡œìš°</button>
        </div>

        <!-- ë†€ë„ ìˆ˜ ì—†ëŠ” ì´ë²¤íŠ¸ ì„¹ì…˜ -->
        <div class="event-section my-4">
            <h5>ë†“ì¹  ìˆ˜ ì—†ëŠ” ì´ë²¤íŠ¸</h5>
            <div class="event-image">
                <img src="../../assets/event-placeholder.png" />
            </div>
            <p>ë‚˜ë‹¤ìš´ ì„±ì¥, ì› í¬ì¸íŠ¸ ë ˆë²¨ì—…!</p>
        </div>

        <!-- ì¶”ì²œ í”„ë¡œì íŠ¸ ì„¹ì…˜ -->
        <div class="project-recommendation">
            <h5>ë‚´ ì·¨í–¥ì— ë§ëŠ” í”„ë¡œì íŠ¸</h5>
            <div class="project-grid">
                <div v-for="n in 4" :key="n" class="project-card">
                    <img src="../../assets/project-placeholder.png" alt="í”„ë¡œì íŠ¸ ì´ë¯¸ì§€" />
                    <p>í”„ë¡œì íŠ¸ ì œëª© {{ n }}</p>
                </div>
            </div>
        </div>

        <!-- ê´€ì‹¬ ê°ˆ ë§Œí•œ í”„ë¡œì íŠ¸ ì„¹ì…˜ -->
        <div class="project-interest">
            <h5>ê´€ì‹¬ ê°ˆ ë§Œí•œ í”„ë¡œì íŠ¸</h5>
            <div class="project-grid">
                <div v-for="n in 4" :key="n" class="project-card">
                    <img src="../../assets/project-placeholder.png" alt="í”„ë¡œì íŠ¸ ì´ë¯¸ì§€" />
                    <p>í”„ë¡œì íŠ¸ ì œëª© {{ n }}</p>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
import { onMounted } from 'vue';
import { useRouter } from 'vue-router';
import { usePaymentStore } from '../../util/store/paymentStore';

defineProps(['id']); // idë¥¼ ëª…ì‹œì ìœ¼ë¡œ propsë¡œ ì •ì˜

const router = useRouter();
const paymentStore = usePaymentStore();

onMounted(() => {
    // ê²°ì œ ì„±ê³µ ìƒíƒœ í™•ì¸
    if (paymentStore.isPaymentSuccessful) {
        // ìƒíƒœ ì´ˆê¸°í™”
        paymentStore.resetPaymentStatus();
    }
});
</script>

<style scoped>
.top-bar {
    display: flex;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    width: 100%;
}

.complete-payment-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.completion-message {
    margin-bottom: 30px;
}

.delivery-info {
    padding: 3%;
    background-color: #e9ecef;
    margin-top: 10px;
    color: #666;
}

.next-button {
    background-color: #00c3bd;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    margin-top: 20px;
    cursor: pointer;
    width: 100%;
}

.project-info {
    padding: 15px;
    margin-top: 30px;
    border-radius: 5px;
    text-align: center;
}

.company-info {
    background-color: #fff;
    padding: 20px;
    margin-top: 20px;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.follow-button {
    background-color: white;
    color: #00c3bd;
    padding: 10px;
    border: #00c3bd 1px solid;
    border-radius: 5px;
    cursor: pointer;
}

.event-section {
    margin-top: 40px;
}

.event-image img {
    width: 100%;
    height: auto;
    border-radius: 5px;
    margin-top: 10px;
}

.project-recommendation,
.project-interest {
    margin-top: 40px;
}

.project-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
}

.project-card {
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    padding: 15px;
    text-align: center;
}

.project-card img {
    width: 100%;
    height: auto;
    margin-bottom: 10px;
}
</style>
